@startuml

title Train Model Class Diagram
'skinparam backgroundColor transparent'
skinparam classBackgroundColor #e6ffcc
skinparam classBorderColor 	#049595
skinparam packageBorderCOlor  #049595
skinparam arrowColor #006666

package "Shared"{
    interface Module{
        -timeUpdate(SimTime)
    }
}

class TrainModelList {
    -trainID:String
    -trainModel:TrainModel
}

class TrainModel {
    -id:String;
    -weight:double;
    -height:double;
    -length:double;
    -width:double;
    -numCars:int;
    -capacity:int;
    -lineColor:String;
    -grade:double;
    -gpsStatus:boolean;
    -mboStatus:boolean;
    -engineFailureStatus:boolean;
    -signalFailureStatus:boolean;
    -brakeFailureStatus:boolean;
    -nextStationID:String;
    -timeOfArrival:double;
    -arrivalStatus:boolean;
    -numPassengers:int;
    -currentSpeed:double;
    -CTCSpeed:double;
    -CTCAuthority:double;
    -powerOut:double;
    -leftDoorStatus:boolean;
    -rightDoorStatus:boolean;
    -lightsStatus:boolean;
    -temperature:int;
    -serviceBrake:boolean;
    -emerBrake:boolean;
    -trainActive:boolean;
    -force:double;
    -normalForce:double;
    -downwardForce:double;
    -totalForce:double;
    -friction:double;
    -slope:double;
    -finalSpeed:double;
    -trainAcceleration:double;
    -gpsSignal:Gps;
    __
    +simulator:Simulator;
    +trainController:TrainController;
    +trainModelGUI:TrainModelNewGUI;
    +trainList:Arraylist
    __
    -showTrainGUI();
    +TrainModelNewGUI:CreateNewGUI(TrainModel trainModel);
    -setValuesForDisplay(TrainModelNewGUI tmGUI);
    -updateTrainValues();
    +activateFailureModeTest();
    +endFailureModeTest();
    +getTrainController();
    +updateTrainList();
    +updateArrivalStatus();
    +setAuthority();
    +setPos();
    +getPos();
    +getGrade(Block block);
    +setSpeed();
    +getSpeed();
    +getAuthority();
    +setAuthority();
    +double:truncateTo(double unroundedNumberâ€šint decimalPlaces)
}

class Gps{
    -line:String;
    -prevBlockID:Block;
    -prevSection:String;
    -currentBlockID:Block;
    -currBlockLength:double;
    -metersIn:double;
    -nextBlockID:Block;
    -nextBlockLength:double
    __
    -setPrevBlock();
    -setCurrentBlock();
    -Block:getNextBlock(Block currentBlock);
    -Gps:setGps();
}

class TrainModelNewGUI{
    +gpsAntennaStatusLabel:JLabel;
    +mboAntennaStatusLabel:JLabel;
    +stationVal:JLabel;
    +rightDoorStatusLabel:Jlabel;
    +leftDoorStatusLabel:Jlabel;
    +timeVal:Jlabel;
    +lblAm:JLabel;
    +leftDoorStatusLabel:JLabel;
    +lightStatusLabel:JLabel;
    +numPassengersLbl:JLabel;
    +authorityVal:JLabel;
    +actualAuthorityVal:JLabel;
    +lblLine:JLabel;
    +heightVal:JLabel;
    +weightVal:JLabel;
    +lengthVal:JLabel;
    +widthVal:JLabel;
    +capacityVal:JLabel;
    +capacityVal:JLabel;
    +blockVal:JLabel;
    +gradeVal:Jlabel;
    +arrivalStatusLabel:JLabel;
    +setpointSpeedLabel:Jlabel;
    +btnSendPowerCommand:JLabel;
    +btnEmergencyBrake:Jlabel;
    +btnServiceBrake:JLabel;
    +numCarsSpinner:JLabel;
    +tempSpinner:JSpinner;
    +powerSpinner:JSpinner;
    +trainModel:TrainModel
}

Module <|-- TrainModelList : implements
TrainModelList - TrainModel
TrainModel - TrainModelNewGUI
Gps "1..*"-* TrainModel

@enduml